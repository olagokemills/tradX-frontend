<div class="main px-2 px-md-5">
  <div class="d-flex justify-content-between align-items-center w-100">
    <h5 class="mb-0">Audit Plan 2022</h5>
    <div class="d-flex gap-3">
      <app-dropdown-button
        [buttonLabel]="' More Actions'"
        [items]="Actions"
        (itemClicked)="handleActionClick($event)"
      ></app-dropdown-button>
      <app-dropdown-button
        [buttonLabel]="' Year 2022'"
        [items]="Years"
        (itemClicked)="handleActionClick($event)"
      ></app-dropdown-button>
    </div>
  </div>
  <div
    class="d-flex justify-content-between align-items-center mb-5 w-100 mt-5"
  >
    <app-search-input></app-search-input>
    <button class="btn add-btn btn-neutral d-flex align-items-center gap-2">
      <i class="bi bi-plus"></i>
      <h6 class="mb-0 fw-normal">Add New Audit</h6>
    </button>
  </div>
  <app-reusable-table [tableData]="auditData">
    <ng-template #headers>
      <th>
        <span>Department</span>
      </th>
      <th>
        <span>Audit Title</span>
      </th>
      <th>
        <span>Proposed Timing</span>
      </th>
      <th>
        <span>Changes to PT</span>
      </th>
      <th>
        <span>Status</span>
      </th>
      <th>
        <span>Action</span>
      </th>
    </ng-template>

    <ng-template #rows let-tableRow>
      <td>
        {{ tableRow.department }}
      </td>
      <td>
        {{ tableRow.title }}
      </td>
      <td>
        {{ tableRow.proposedTiming }}
      </td>
      <td>
        {{ tableRow.changesToPT }}
      </td>
      <td>
        <span class="badge bg-gray px-2 py-1 rounded-pill">
          <span
          class="rounded-circle d-inline-block mr-2 dot"
          [ngClass]="{
            'bg-primary': tableRow.status === 'Planning',
            'bg-success': tableRow.status === 'Fieldwork',
            'bg-danger': tableRow.status === 'Not started'
          }"
        ></span>
          {{ tableRow.status }}
        </span>
      </td>
      <td>
        <div class="dropdown">
          <a
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="bi bi-three-dots-vertical"></i>
          </a>

          <ul class="dropdown-menu">
            <li>
              <a
                class="dropdown-item"
                (click)="viewAudit()"
                href="javascript:void(0)"
              >
                <small> Edit Audit </small>
              </a>
            </li>
            <li>
              <a
                class="dropdown-item"
                (click)="removeAudit()"
                href="javascript:void(0)"
              >
                <small> Remove  Audit </small>
              </a>
            </li>
            <li>
              <a
                class="dropdown-item"
                (click)="viewAudit()"
                href="javascript:void(0)"
              >
                <small> Update Status </small>
              </a>
            </li>
          </ul>
        </div>
      </td>
    </ng-template>
  </app-reusable-table>
</div>
