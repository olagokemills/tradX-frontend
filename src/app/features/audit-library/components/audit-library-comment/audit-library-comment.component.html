<div class="comment-container">
  <!-- Filter Dropdown -->
  <div class="filter-section">
    <div class="dropdown">
      <button class="filter-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        All
        <i class="bi bi-chevron-down"></i>
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#">All</a></li>
        <li><a class="dropdown-item" href="#">Recent</a></li>
        <li><a class="dropdown-item" href="#">Mentions</a></li>
      </ul>
    </div>
  </div>

  <!-- Comments List -->
  <div class="comments-section">
    <div *ngIf="comments.length === 0" class="empty-state">
      <div class="empty-icon">
        <svg width="80" height="80" viewBox="0 0 145 145" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M140.39 43.8719C140.39 24.9475 124.997 9.53662 106.055 9.53662C88.4686 9.53662 73.9315 22.8283 71.9609 39.8937C86.8513 46.6046 97.6891 60.77 99.7154 77.6123C101.76 78.0027 103.88 78.2071 106.055 78.2071C111.055 78.2071 115.87 77.1661 120.369 75.0841L138.215 81.9809L133.474 64.5437C137.992 58.5392 140.39 51.4193 140.39 43.8719Z" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M123.622 34.7441H90.4019" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M123.622 45.0059H90.4019" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M123.622 55.2485H91.9634" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M7.88214 136.17L14.4815 111.966C8.17958 103.675 4.87061 93.7853 4.87061 83.3193C4.87061 57.0706 26.2302 35.7109 52.4789 35.7109C78.7277 35.7109 100.069 57.0706 100.069 83.3193C100.069 109.568 78.7091 130.928 52.4789 130.928C45.545 130.928 38.8712 129.478 32.6437 126.615L7.88214 136.17Z" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M28.1265 70.9385H74.1918" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M28.1265 85.1597H74.1918" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M28.1265 99.3994H74.1918" stroke="#9CA3AF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <p class="empty-text">No comment at the moment</p>
    </div>

    <div *ngIf="comments.length > 0" class="comments-list">
      <div *ngFor="let comment of comments" class="comment-item">
        <div class="comment-avatar">
          <div class="avatar-circle">
            {{ getAuthorInitials(comment.author) }}
          </div>
        </div>
        <div class="comment-content">
          <div class="comment-meta">
            <span class="author-name">{{ comment.author }}</span>
            <span class="author-email">{{ comment.email }}</span>
            <span class="timestamp">{{ formatTimestamp(comment.timestamp) }}</span>
          </div>
          <div class="comment-text">{{ comment.content }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Comment Input -->
  <div class="comment-input-section">
    <div class="input-container">
      <textarea
        [(ngModel)]="newComment"
        class="comment-textarea"
        placeholder="Comment here and mention a user with '@'"
        rows="3"
        (keydown)="onTextareaKeydown($event)">
      </textarea>
      <app-loader-button
        [loading]="loading"
        [disabled]="!newComment.trim()"
        [text]="'Send Comment'"
        [loaderText]="'Sending...'"
         btnClass="btn btn-primary submit-btn w-100"
        type="button"
        (click)="onSendComment()">
      </app-loader-button>
    </div>
  </div>
</div>
